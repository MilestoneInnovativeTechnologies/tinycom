(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{4090:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fit row no-wrap items-center content-start"},[a("div",{staticClass:"col-grow",staticStyle:{overflow:"auto"}},[a("q-input",{attrs:{outlined:"",value:t.value,clearable:"",dense:"",placeholder:"Search.."},on:{input:function(e){return t.$emit("input",e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}])})],1),a("div",[t._v("   ")]),a("div",{staticStyle:{overflow:"auto"}},[a("q-btn",{attrs:{label:t.action||"NEW",color:"primary"},on:{click:function(e){return t.$emit(t.action||"new")}}})],1)])},i=[],n={name:"SearchAndAction",props:["value","action"]},r=n,o=a("2877"),c=a("27f9"),l=a("0016"),u=a("9c40"),d=a("eebe"),m=a.n(d),p=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=p.exports;m()(p,"components",{QInput:c["a"],QIcon:l["a"],QBtn:u["a"]})},"4e6f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-markup-table",{attrs:{dense:""}},[a("thead",{staticClass:"text-left"},[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Status")]),a("th",[t._v("Name")]),a("th",[t._v("Description")]),a("th",[t._v(" ")])])]),a("tbody",t._l(t.items,(function(e,s){return a("ItemUpdateRow",t._b({key:["active","item","update","row",s].join("-")},"ItemUpdateRow",e,!1))})),1)])},i=[],n=(a("e01a"),a("806c")),r={name:"InActiveItems",components:{ItemUpdateRow:n["a"]},props:["filter"],computed:{items(){return _(this.$store.getters["ITEMS/all"]).filter((({status:t})=>"N"===t)).filter((({name:t,description:e})=>_.isEmpty(this.filter)||_.includes(_.toLower(t+e),_.toLower(this.filter)))).value()}}},o=r,c=a("2877"),l=a("2bb1"),u=a("eebe"),d=a.n(u),m=Object(c["a"])(o,s,i,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QMarkupTable:l["a"]})},"806c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-tr",[a("q-td",[t._v(t._s(t.id))]),a("q-td",[a("q-select",{staticStyle:{width:"3rem"},attrs:{options:t.options,dense:"",square:"",outlined:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),a("q-td",[a("q-input",{staticStyle:{width:"8rem"},attrs:{type:"text",dense:"",square:"",outlined:"",debounce:1e3},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("q-td",[a("q-input",{staticStyle:{width:"8rem",height:"4rem"},attrs:{type:"textarea",dense:"",square:"",outlined:"",debounce:1e3},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("q-td",[a("q-btn",{attrs:{icon:"double_arrow",flat:"",size:"sm",color:"primary",to:{name:"item",params:{id:t.id}}}})],1)],1)},i=[],n=(a("e01a"),{name:"ItemUpdateRow",props:["id"],data(){return{options:["Y","N"]}},computed:{name:{get(){return this.$attrs.name},set(t){this.dispatch({name:t})}},description:{get(){return this.$attrs.description},set(t){this.dispatch({description:t})}},status:{get(){return this.$attrs.status},set(t){this.dispatch({status:t})}}},methods:{formData(t){let e=new FormData;return _.forEach(t,((t,a)=>e.append(a,t))),{id:this.id,data:e,item:"item",action:"update"}},dispatch(t){this.$store.dispatch("SERVER/serverItemAction",this.formData(t))}}}),r=n,o=a("2877"),c=a("bd08"),l=a("db86"),u=a("ddd8"),d=a("27f9"),m=a("9c40"),p=a("eebe"),f=a.n(p),v=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=v.exports;f()(v,"components",{QTr:c["a"],QTd:l["a"],QSelect:u["a"],QInput:d["a"],QBtn:m["a"]})},ef2d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("SearchAndAction",{on:{new:function(e){t.create=!0}},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("div",{staticClass:"text-right q-my-sm"},[a("q-btn",{attrs:{label:"Stock & Price update",color:"light","text-color":"primary",size:"sm",to:{name:"stock"}}})],1),a("div",{staticClass:"text-bold q-mt-md",staticStyle:{clear:"both"}},[t._v("Active Items")]),a("ActiveItems",{staticClass:"q-mt-sm",attrs:{filter:t.filter}}),a("div",{staticClass:"text-bold q-mt-md"},[t._v("Inactive Items")]),a("InActiveItems",{staticClass:"q-mt-sm",attrs:{filter:t.filter}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("CreateItemCard",{on:{created:function(e){t.create=!1}}})],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-markup-table",{attrs:{dense:""}},[a("thead",{staticClass:"text-left"},[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Status")]),a("th",[t._v("Name")]),a("th",[t._v("Description")]),a("th",[t._v(" ")])])]),a("tbody",t._l(t.items,(function(e,s){return a("ItemUpdateRow",t._b({key:["active","item","update","row",s].join("-")},"ItemUpdateRow",e,!1))})),1)])},r=[],o=(a("e01a"),a("806c")),c={name:"ActiveItems",components:{ItemUpdateRow:o["a"]},props:["filter"],computed:{items(){return _(this.$store.getters["ITEMS/all"]).filter((({status:t})=>"Y"===t)).filter((({name:t,description:e})=>_.isEmpty(this.filter)||_.includes(_.toLower(t+e),_.toLower(this.filter)))).value()}}},l=c,u=a("2877"),d=a("2bb1"),m=a("eebe"),p=a.n(m),f=Object(u["a"])(l,n,r,!1,null,null,null),v=f.exports;p()(f,"components",{QMarkupTable:d["a"]});var h=a("4e6f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h6"},[t._v("Create New Item")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),a("q-card-section",[a("q-form",{ref:"item_create_form",staticClass:"row q-col-gutter-xs",attrs:{autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"}},[a("div",{staticClass:"col-8"},[a("q-input",{attrs:{type:"text",name:"name",outlined:"",label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"col-4"},[a("q-select",{attrs:{outlined:"",name:"category",options:t.categories,"option-label":"name","option-value":"id","emit-value":"","map-options":"",label:"Category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),a("div",{staticClass:"col-12"},[a("q-input",{staticStyle:{height:"4rem"},attrs:{type:"textarea",name:"description",outlined:"",label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{attrs:{type:"text",name:"price",outlined:"",label:"Price"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{attrs:{type:"text",name:"selling",outlined:"",label:"Selling Price"},model:{value:t.selling,callback:function(e){t.selling=e},expression:"selling"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{attrs:{type:"text",name:"stock",outlined:"",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("div",{staticClass:"col-4"},[a("q-select",{attrs:{outlined:"",name:"status",options:t.options,label:"Status"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),a("div",{staticClass:"col-8"},[a("q-input",{attrs:{type:"file",name:"image",borderless:"",label:"Image"},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)])],1),a("q-card-actions",{staticClass:"q-pa-md",attrs:{align:"right"}},[a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""},on:{click:t.reset}}),a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary",push:"",loading:t.loading},on:{click:t.create}})],1)],1)},g=[],q=(a("ddb0"),{name:"CreateItemCard",data(){return{options:["Y","N"],loading:!1,name:"",category:"",description:"",price:0,selling:0,stock:1,status:"Y",image:""}},computed:{categories(){return _.values(this.$store.state.CATEGORIES.CATEGORIES)}},methods:{reset(){return this.name=this.description=this.category=this.image=""},create(){if(""===this.name||""===this.category)return;this.loading=!0;let t=new FormData(this.$refs["item_create_form"].$el),e=this.$store.commit,a=this.category;this.$store.dispatch("ITEMS/create",t).then((t=>{t&&t.id&&(e("CATEGORIES/addItem",{item:t.id,category:a}),this.reset(),this.loading=!1,this.$emit("created"))}))}}}),y=q,I=a("f09f"),C=a("a370"),w=a("2c91"),x=a("9c40"),k=a("0378"),S=a("27f9"),E=a("ddd8"),Q=a("4b7e"),$=a("7f67"),A=Object(u["a"])(y,b,g,!1,null,null,null),R=A.exports;p()(A,"components",{QCard:I["a"],QCardSection:C["a"],QSpace:w["a"],QBtn:x["a"],QForm:k["a"],QInput:S["a"],QSelect:E["a"],QCardActions:Q["a"]}),p()(A,"directives",{ClosePopup:$["a"]});var D=a("4090"),T={name:"PageItems",components:{SearchAndAction:D["a"],CreateItemCard:R,InActiveItems:h["a"],ActiveItems:v},data(){return{filter:"",create:!1}}},N=T,O=a("9989"),j=a("24e8"),U=Object(u["a"])(N,s,i,!1,null,null,null);e["default"]=U.exports;p()(U,"components",{QPage:O["a"],QBtn:x["a"],QDialog:j["a"]})}}]);