(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{6822:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RecordList",{attrs:{records:t.carts,layout:t.layout,empty:t.empty,route:"order",limit:t.limit||5,back:t.source,row_key:t.row_key}})},a=[],l=(s("26e9"),s("b185")),i={name:"PendingOrders",components:{RecordList:l["a"]},props:["limit","source"],data(){return{layout:[{name:"id",label:"ID",field:"id",align:"left"},{name:"customer",label:"Customer",field:"customer_name",align:"left"},{name:"total",label:"Total",field:"total"}],empty:"No any pending orders!!",row_key:"id"}},computed:{carts(){return _(this.$store.getters["CARTS/all"]).filter(["status","Ordered"]).sortBy((({time:t})=>_.toInteger(t))).reverse().value()}}},o=i,n=s("2877"),c=Object(n["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports},b185:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-table",{attrs:{title:t.title,data:t.records,columns:t.columns,dense:"","no-data-label":t.empty,"row-key":t.row_key,pagination:{rowsPerPage:t.limit||5},"rows-per-page-label":"Per Page"},scopedSlots:t._u([t.route?{key:"body-cell-action",fn:function(e){return[s("q-td",{attrs:{props:e}},[s("q-btn",{attrs:{dense:"",flat:"",icon:"double_arrow",size:"sm",color:"primary",to:{name:t.route,params:{id:e.value,back:t.back}}}})],1)]}}:null],null,!0)})},a=[],l={name:"RecordList",props:["records","title","empty","limit","layout","route","row_key","back"],computed:{columns(){return this.route?_.concat(this.layout,[{name:"action",field:this.row_key,label:" "}]):this.layout}}},i=l,o=s("2877"),n=s("eaac"),c=s("db86"),u=s("9c40"),d=s("eebe"),m=s.n(d),p=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=p.exports;m()(p,"components",{QTable:n["a"],QTd:c["a"],QBtn:u["a"]})},bc13:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("PendingOrders",{attrs:{limit:"5"}}),s("OrdersMetric",{staticClass:"q-mt-sm"}),s("Sources",{staticClass:"q-mt-sm"}),s("LiveMetric",{staticClass:"q-mt-sm"}),s("LiveCustomers",{staticClass:"q-mt-sm"}),s("LiveCarts",{staticClass:"q-mt-sm"})],1)},a=[],l=s("6822"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"bg-grey-1"},[s("q-card-section",[s("div",{staticClass:"text-center text-bold"},[t._v("TODAY")])]),s("q-card-section",{staticClass:"q-gutter-xs q-px-xs row text-center",attrs:{horizontal:""}},[s("q-card-section",{staticClass:"bg-white col q-pa-lg"},[s("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.15rem"}},[t._v(t._s(t.carts.length||0))]),s("div",[t._v("ORDER")])]),s("q-card-section",{staticClass:"bg-white col q-pa-lg"},[s("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.15rem"}},[t._v(t._s(t.confirmed||0))]),s("div",[t._v("CONFIRM")])]),s("q-card-section",{staticClass:"bg-white col q-pa-lg"},[s("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.15rem"}},[t._v(t._s(t.delivered||0))]),s("div",[t._v("DELIVER")])])],1),s("q-card-section",[s("div",{staticClass:"text-center text-bold"},[t._v("COLLECTION: "+t._s(t.total))])])],1)},o=[],n={name:"OrdersMetric",data(){return{consider:["Ordered","Confirmed","Delivered"],today:(new Date).getDate()}},computed:{carts(){return _.filter(this.$store.getters["CARTS/all"],(({status:t,updated_at:e})=>new Date(e).getDate()===this.today&&_.includes(this.consider,t)))},group(){return _.groupBy(this.carts,"status")},delivered(){return _.get(this.group,"Delivered",[]).length},confirmed(){return _.get(this.group,"Confirmed",[]).length+this.delivered},total(){return _.sumBy(_.get(this.group,"Delivered",[{amount:0}]),(({amount:t})=>_.toNumber(t)))}}},c=n,u=s("2877"),d=s("f09f"),m=s("a370"),p=s("eebe"),v=s.n(p),g=Object(u["a"])(c,i,o,!1,null,null,null),b=g.exports;v()(g,"components",{QCard:d["a"],QCardSection:m["a"]});var f=s("dc99"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"bg-grey-1"},[s("q-card-section",[s("div",{staticClass:"text-center text-bold"},[t._v("LIVE")])]),s("q-card-section",{staticClass:"q-gutter-xs q-px-xs row text-center",attrs:{horizontal:""}},[s("q-card-section",{staticClass:"bg-white col q-pa-lg"},[s("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.15rem"}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"groups",size:"sm"}}),t._v(t._s(t.customers.length||0))],1),s("div",[t._v("CUSTOMERS")])]),s("q-card-section",{staticClass:"bg-white col q-pa-lg"},[s("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.15rem"}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"insights",size:"sm"}}),t._v(t._s(t.cart_amount||0))],1),s("div",[t._v("TOTAL")])])],1)],1)},y=[],h={name:"LiveMetric",computed:{carts(){return this.$store.getters["CARTS/live"]},customers(){return this.$store.getters["CUSTOMERS/live"]},cart_amount(){return _.sumBy(this.carts,(({total:t})=>_.toNumber(t)))}}},q=h,w=s("0016"),x=Object(u["a"])(q,C,y,!1,null,null,null),O=x.exports;v()(x,"components",{QCard:d["a"],QCardSection:m["a"],QIcon:w["a"]});var L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"live-customers"},[s("RecordList",{attrs:{title:"Live Customers",records:t.customers,layout:t.layout,route:"customer",row_key:"id",empty:"No live Customers"}})],1)},S=[],R=s("b185"),k={name:"LiveCustomers",components:{RecordList:R["a"]},data(){return{layout:[{name:"name",label:"Customer",field:"name",align:"left"},{name:"updated",label:"Last Update",field:"updated",align:"left"}]}},computed:{customers(){return _.map(this.$store.getters["CUSTOMERS/live"],(t=>Object.assign({},t,{updated:fromNow(t.live)})))}}},E=k,T=Object(u["a"])(E,L,S,!1,null,null,null),$=T.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RecordList",{attrs:{title:"Live Carts",records:t.carts,layout:t.layout,route:"live",row_key:"id"}})},z=[],M=(s("26e9"),{name:"LiveCarts",components:{RecordList:R["a"]},data(){return{layout:[{name:"customer",label:"Customer",field:"name",align:"left"},{name:"amount",label:"Amount",field:"total"},{label:"Updated",field:"updated",name:"updated",align:"left"},{label:"Source",field:"title",name:"source",align:"left"}]}},computed:{live(){return this.$store.getters["CARTS/live"]},carts(){return _(this.live).sortBy("time").reverse().value()}}}),j=M,P=Object(u["a"])(j,D,z,!1,null,null,null),Q=P.exports,N={name:"PageHome",components:{LiveCarts:Q,LiveCustomers:$,LiveMetric:O,Sources:f["a"],PendingOrders:l["a"],OrdersMetric:b}},A=N,I=s("9989"),B=Object(u["a"])(A,r,a,!1,null,null,null);e["default"]=B.exports;v()(B,"components",{QPage:I["a"]})},dc99:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("RecordList",{attrs:{records:t.records,layout:t.layout,row_key:"id",limit:"5",route:"source",back:t.source,empty:"No any active sources!!"}})},a=[],l=s("b185"),i={name:"Sources",components:{RecordList:l["a"]},props:["add","source"],data(){return{layout:[{name:"title",label:"Title",field:"title",align:"left"},{name:"hits",label:"Hits",field:"hits"},{name:"expire",label:"Expire",field:"expire",align:"left"},{name:"orders",label:"Orders",field:"orders"}]}},computed:{records(){return this.$store.getters["SOURCES/all"]}}},o=i,n=s("2877"),c=Object(n["a"])(o,r,a,!1,null,null,null);e["a"]=c.exports}}]);