(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{c2c6:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{padding:""}},[i("div",{staticClass:"row fit wrap content-start items-center q-mb-sm"},[i("div",{staticClass:"text-h6 col-grow"},[t._v(t._s(t.name))]),i("q-btn",{staticClass:"q-mb-sm q-px-sm q-py-xs",attrs:{icon:"reply_all",label:"BACK",color:"warning",dense:"",size:"sm",to:{name:"items"}}})],1),i("q-form",{key:t.upd,ref:"item-update-form",staticClass:"q-gutter-y-xs"},[i("q-input",{attrs:{type:"text",outlined:"",name:"name",label:"Name"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}}),i("q-input",{staticStyle:{height:"5rem"},attrs:{type:"textarea",outlined:"",name:"description",label:"Description"},model:{value:t.item.description,callback:function(e){t.$set(t.item,"description",e)},expression:"item.description"}}),i("q-input",{attrs:{type:"text",outlined:"",name:"price",label:"Price"},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",e)},expression:"item.price"}}),i("q-input",{attrs:{type:"text",outlined:"",name:"selling",label:"Selling Price"},model:{value:t.item.selling,callback:function(e){t.$set(t.item,"selling",e)},expression:"item.selling"}}),i("q-input",{attrs:{type:"text",outlined:"",name:"stock",label:"Stock"},model:{value:t.item.stock,callback:function(e){t.$set(t.item,"stock",e)},expression:"item.stock"}}),i("q-select",{attrs:{outlined:"",name:"status",label:"Status",options:["Y","N"]},model:{value:t.item.status,callback:function(e){t.$set(t.item,"status",e)},expression:"item.status"}}),i("div",{staticClass:"q-mt-xs row fit wrap content-start items-center"},[t.image?i("q-img",{staticClass:"rounded-borders col-4",attrs:{ratio:"1",src:t.image}}):t._e(),i("div",{staticClass:"col-8 q-px-sm"},[i("q-input",{attrs:{type:"file",borderless:"",dense:"",name:"image",value:""}})],1)],1),i("div",{staticClass:"text-bold q-mt-md"},[t._v("Category")]),i("q-option-group",{attrs:{options:t.category_list,label:"Category",name:"categories[]",type:"checkbox",dense:""},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}})],1),i("div",{staticClass:"text-right"},[i("q-btn",{staticClass:"q-px-md",attrs:{type:"submit",color:"primary",label:"Update",push:"",loading:t.loading},on:{click:t.update}})],1)],1)},a=[],n={name:"PageItem",props:["id"],data(){return{upd:0,item:this.$store.getters["ITEMS/item"](this.id),categories:this.$store.getters["ITEMS/ITEM_CATEGORIES"][this.id],loading:!1}},computed:{name(){return _.get(this.$store.state.ITEMS.ITEMS,[this.id,"name"])},image(){return _.isEmpty(this.item.media)?null:imageUrl(this.item.media[0])},category_list(){return _.map(this.$store.state.CATEGORIES.CATEGORIES,(({id:t,name:e})=>_.zipObject(["value","label"],[t,e])))}},methods:{update(){this.loading=!0;let{name:t,price:e}=this.item;if(!t||!e||_.isEmpty(this.categories))return this.loading=!1;this.$store.dispatch("SERVER/serverItemAction",{id:this.id,data:new FormData(this.$refs["item-update-form"].$el),item:"item",action:"update"}).then((t=>(this.loading=!1)||this.upd++))}}},l=n,o=i("2877"),r=i("9989"),m=i("9c40"),c=i("0378"),p=i("27f9"),d=i("ddd8"),u=i("068f"),g=i("9f0a"),b=i("eebe"),h=i.n(b),f=Object(o["a"])(l,s,a,!1,null,null,null);e["default"]=f.exports;h()(f,"components",{QPage:r["a"],QBtn:m["a"],QForm:c["a"],QInput:p["a"],QSelect:d["a"],QImg:u["a"],QOptionGroup:g["a"]})}}]);