(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2ff9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[t.user?s("q-card",{attrs:{flat:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Profile Update")])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{label:"Name",color:"primary",autofocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("q-input",{attrs:{label:"Phone",color:"primary",type:"number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),s("q-card-actions",[t.text?s("div",{staticClass:"text-negative text-center full-width"},[t._v(t._s(t.text))]):t._e(),s("q-btn",{attrs:{color:"primary",label:"Back to Shop",padding:"sm lg",to:{name:"home"}}}),s("q-space"),s("q-btn",{attrs:{color:"primary",label:"Update",padding:"sm lg",loading:t.processing},on:{click:t.update}})],1)],1):s("q-card",{attrs:{flat:""}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Login")])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{label:"Phone",color:"primary",autofocus:"",type:"number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),s("q-card-actions",{attrs:{align:"right"}},[t.text?s("div",{staticClass:"text-caption q-mr-md"},[t._v(t._s(t.text))]):t._e(),s("q-btn",{attrs:{color:"primary",label:"Login",padding:"sm lg",loading:t.processing},on:{click:t.login}})],1)],1)],1)},n=[],i={name:"PageProfile",data(){let t=_.get(this.$store.state.USER,["USER","name"]),e=_.get(this.$store.state.USER,["USER","phone"]);return{name:t,phone:e,processing:!1,text:"",msg:"Processing... Please wait!!"}},methods:{login(){if(this.processing=!0,!this.phone)return this.text="Phone is mandatory fields. Please fill!",void(this.processing=!1);this.$store.dispatch("USER/login",{phone:this.phone}).then((t=>{this.name=_.get(t,"name"),this.phone=_.get(t,"phone"),this.processing=!1,this.text=""}))},update(){if(this.processing=!0,!this.phone)return this.text="Phone is mandatory fields. Please fill!",void(this.processing=!1);this.$store.dispatch("USER/update",{name:this.name,phone:this.phone}).then((t=>{_.isString(t)?this.process(t):this.text="Updated successfully!!",setTimeout((()=>{this.text=""}),2e3),this.processing=!1}))},logout(){location.href=location.origin+"/user/logout"}},computed:{user(){return this.$store.state.USER.USER}},beforeDestroy(){this.processing=!1},watch:{processing(t){t&&setTimeout((t=>t.processing=!1),5e3,this)}}},o=i,r=s("2877"),c=s("9989"),l=s("f09f"),p=s("a370"),h=s("27f9"),d=s("4b7e"),u=s("9c40"),g=s("2c91"),m=s("eebe"),f=s.n(m),b=Object(r["a"])(o,a,n,!1,null,null,null);e["default"]=b.exports;f()(b,"components",{QPage:c["a"],QCard:l["a"],QCardSection:p["a"],QInput:h["a"],QCardActions:d["a"],QBtn:u["a"],QSpace:g["a"]})}}]);